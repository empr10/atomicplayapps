<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Atomic Play Apps – Feedback</title>
  <style>
    :root {
      --primary:#ff5f6d;
      --secondary:#ffc371;
      --bg:#0d0d0d;
      --text:#f1f1f1;
    }
    *{box-sizing:border-box;font-family:"Segoe UI",Roboto,Helvetica,Arial,sans-serif;}
    body{margin:0;background:var(--bg);color:var(--text);display:flex;flex-direction:column;min-height:100vh;}
    header{
      display:flex;align-items:center;justify-content:center;flex-direction:column;
      padding:4rem 1rem;
      background:linear-gradient(135deg,var(--primary),var(--secondary));
      text-align:center;
    }
    .logo{
      font-size:3rem;font-weight:900;letter-spacing:2px;text-transform:uppercase;color:#fff;margin:0;
    }
    .logo span{
      background:#fff;color:var(--primary);padding:0 0.4rem;border-radius:4px;
    }
    .tagline{font-size:1.3rem;margin-top:1rem;max-width:620px;}
    .direct-email{margin-top:1.5rem;text-align:center;}
    .direct-email a{color:var(--secondary);text-decoration:none;font-weight:600;}
    .direct-email a:hover{text-decoration:underline;}

    /* modal styles */
    .modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);display:none;align-items:center;justify-content:center;z-index:1000;}
    .modal-content{background:#fff;color:#000;padding:2rem 1.5rem;border-radius:8px;max-width:90%;width:340px;text-align:center;}
    .modal-content button{margin-top:1rem;background:var(--primary);border:none;color:#fff;padding:0.6rem 1.8rem;border-radius:4px;font-weight:600;cursor:pointer;}

    main{flex:1;display:flex;align-items:center;justify-content:center;padding:3rem 1rem;}
    form{
      width:100%;max-width:600px;background:#111;padding:2rem;border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,0.4);
    }
    label{display:block;margin-top:1.2rem;font-weight:600;}
    input[type="text"],input[type="email"],textarea{
      width:100%;margin-top:0.4rem;padding:0.8rem 1rem;border-radius:4px;border:none;font-size:1rem;
    }
    textarea{resize:vertical;height:150px;}
    input[type="file"]{margin-top:0.4rem;color:#fff;}
    .note{font-size:0.85rem;opacity:0.8;}

    button{
      margin-top:1.8rem;background:linear-gradient(135deg,var(--primary),var(--secondary));border:none;padding:0.9rem 2.5rem;border-radius:4px;color:#fff;font-size:1rem;font-weight:700;cursor:pointer;transition:filter .2s;}
    button:disabled{opacity:0.5;cursor:not-allowed;}
    button:hover:not(:disabled){filter:brightness(1.1);}  

    footer{padding:1rem;text-align:center;font-size:0.9rem;opacity:0.7;}
    @media(max-width:480px){
      header{padding:3rem 1rem;}
      .logo{font-size:2.2rem;}
      .tagline{font-size:1rem;}
    }
  </style>
</head>
<body>
  <header>
    <h1 class="logo">Atomic <span>Play</span> Apps</h1>
    <p class="tagline">Breaking boundaries in hybrid-casual &amp; midcore gaming — crafting fresh mechanics for unforgettable play.</p>
  </header>

  <main>
    <form id="feedbackForm" action="https://formsubmit.co/ajax/atomicplayapps@gmail.com" method="POST" enctype="multipart/form-data">
      
      <input type="hidden" name="_subject" value="New feedback from website" />
      
      <label for="email">Your email</label>
      <input type="email" id="email" name="email" placeholder="you@example.com" required />

      <label for="message">Your message</label>
      <textarea id="message" name="message" placeholder="Share your thoughts..." required></textarea>

      <label for="files">Attach files <span class="note">(max 25&nbsp;MB total)</span></label>
      <input type="file" id="files" name="attachments" multiple />

      <button type="submit" id="submitBtn">Submit</button>
      <p class="direct-email">Prefer direct email? <a href="mailto:atomicplayapps@gmail.com">atomicplayapps@gmail.com</a></p>
    </form>

      <!-- Thank you modal -->
      <div id="thankModal" class="modal">
        <div class="modal-content">
          <p>Thank you for your feedback!</p>
          <button id="closeModal">Close</button>
        </div>
      </div>
  </main>

  <footer>
    © <span id="year"></span> Atomic Play Apps
  </footer>

  <script>
    // динамический год в футере
    document.getElementById('year').textContent = new Date().getFullYear();

    // Ограничение на общий размер файлов (25 MB)
    const MAX_TOTAL_SIZE = 25 * 1024 * 1024; // bytes
    const fileInput = document.getElementById('files');
    const form = document.getElementById('feedbackForm');
    const submitBtn = document.getElementById('submitBtn');

    function validateFiles() {
      const files = fileInput.files;
      let total = 0;
      for (const file of files) total += file.size;
      if (total > MAX_TOTAL_SIZE) {
        alert('Total file size exceeds 25 MB. Please remove some files.');
        submitBtn.disabled = true;
      } else {
        submitBtn.disabled = false;
      }
    }

    fileInput.addEventListener('change', validateFiles);

    const modal = document.getElementById('thankModal');
    const closeModal = document.getElementById('closeModal');
    closeModal.addEventListener('click', () => (modal.style.display = 'none'));

    form.addEventListener('submit', async (e) => {
      if (submitBtn.disabled) {
        e.preventDefault();
        return;
      }
      e.preventDefault();
      const formData = new FormData(form);
      try {
        const res = await fetch(form.action, {
          method: 'POST',
          body: formData,
          headers: { Accept: 'application/json' },
        });
        if (res.ok) {
          form.reset();
          modal.style.display = 'flex';
        } else {
          alert('Error sending feedback. Please try again later.');
        }
      } catch (err) {
        alert('Error sending feedback. Please check your connection.');
      }
    });
    
  </script>
</body>
</html>
